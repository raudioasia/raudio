!function(e){var t={};function a(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1)}([function(e,t){!function(e){var t=this;e.podcastSelect2=function(a){a.select2({allowClear:!0,minimumInputLength:1,closeOnSelect:!0,placeholder:function(){return e(t).data("placeholder")},tags:[],ajax:{url:podcastBox.ajaxUrl,dataType:"json",type:"POST",quietMillis:50,data:function(t){return{term:t,podcast_id:e("#podcast_search").data("podcast_id"),action:"".concat(e("#podcast_search").data("type")?e("#podcast_search").data("type"):"podcast","_search")}},processResults:function(e){return{results:e}},cache:!0},templateResult:function(t){var a=t.image,o=t.text,n=t.country,s=t.link;return e('\n                        <div class="search-result"  data-link="'.concat(void 0!==s?s:"",'">\n                            \n                            ').concat(void 0!==a?'<div class="search-img"><img src="'+a+'" alt="${text}"></div>':"",'\n                            \n                                <div class="search-info">\n                                <h4>').concat(o,'</h4>\n                                \n                                <span class="country">').concat(void 0!==n?n:"","</span>\n                                \n                            </div>\n                        </div>\n                     "))}})},e(document).ready((function(){e(document).on("click",".search-result[data-link]",(function(t){if(t.preventDefault(),e("#podcast_search").length){var a=e(this).data("link");a&&(window.location=a)}if(e("#podcast").length){var o=e(this).data("link");o&&e("#podcast_link").attr("href",o)}})),e(".podcast-box-search>.search_toggle").on("click",(function(){e(this).next().toggleClass("active")})),e.podcastSelect2(e("#podcast_search #keyword")),e("#podcast_box_change_country, #podcast_box_country_search_field, #podcast_box_category_search_field").select2({allowClear:!0,placeholder:function(){e(this).data("placeholder")}})}))}(jQuery)},function(e,t,a){e.exports=a(2)},function(e,t,a){"use strict";a.r(t);a(3),a(0),a(4),a(5)},function(e,t){!function(e){var t=this,a={init:function(){a.initPlayer(),a.handlePopup(),a.initVolumeSlider(),e(document).on("click",".podcast-play-pause, .podcast-box-player-loader",a.handlePlayPause),e(document).on("click",".podcast-box-player-prev, .podcast-box-player-next",a.handlePrevNext),e(document).on("click",".podcast-box-player-toggle",a.togglePlayer),e(document).on("input",".volume-bar-seek",a.handleVolumeSlider),e(document).on("input",".podcast-box-player-progress-seek",a.handleProgress),e(document).on("click",".podcast-box-player-rewind, .podcast-box-player-forward",a.handleRewindForward),e(document).on("click",".open-in-parent",a.openInParent)},player:new MediaElementPlayer("podcast_player_media",{success:function(o,n,s){s.load();var r=s.container.parents(".podcast-box-player");e(o).on("error",(function(){e(".podcast-play-pause").removeClass("active seeking")})),e(o).on("playing",(function(){a.player.volume=a.getVolume();var t=e("#podcast-play-pause"),o=JSON.parse(sessionStorage.getItem("episode"));if(o){var n=parseInt(o.episode_id),s=parseInt(o.podcast_id);t=(t=(t=t.add("#episode-".concat(n," .podcast-play-pause"))).add("#episode-play-".concat(n))).add("#podcast-box-shortcode-player-".concat(s," .podcast-play-pause"))}e(".podcast-play-pause").removeClass("active seeking"),t.removeClass("seeking pause").addClass("active")})),e(o).on("pause",(function(){e(".podcast-play-pause").removeClass("active seeking");var t=e("#podcast-play-pause"),a=JSON.parse(sessionStorage.getItem("episode"));if(a){var o=parseInt(a.episode_id),n=parseInt(a.podcast_id);t=(t=(t=t.add("#episode-".concat(o," .podcast-play-pause"))).add("#episode-play-".concat(o))).add("#podcast-box-shortcode-player-".concat(n," .podcast-play-pause"))}t.addClass("pause")})),e(o).on("seeking",(function(){var a=e(t).add("#podcast-play-pause"),o=JSON.parse(sessionStorage.getItem("episode"));if(o){var n=parseInt(o.episode_id),s=parseInt(o.podcast_id);a=(a=a.add("#play-".concat(n))).add("#podcast-box-shortcode-player-".concat(s," .podcast-play-pause"))}a.hasClass("active")&&a.removeClass("active").addClass("seeking")})),e(o).on("ended",(function(){e(".podcast-play-pause").removeClass("seeking pause active")})),e(o).on("loadedmetadata",(function(){var t=s.duration;e(".podcast-box-player-duration",r).text(t.toHHMMSS())})),e(o).on("timeupdate",(function(){var t=s.duration,a=s.currentTime,o=a/t*100,n=JSON.parse(sessionStorage.getItem("episode"));if(n){var i=parseInt(n.podcast_id);r=r.add("#podcast-box-shortcode-player-".concat(i))}e(".podcast-box-player-progress-seek, .podcast-box-player-progress-bar",r).val(isNaN(o)?0:o),e(".podcast-box-player-time",r).text(new Date(1e3*a).toISOString().substr(14,5)),sessionStorage.setItem("podcast_player_last_time",a)}))}}),handleProgress:function(){var t=e("#podcast-box-player").find(".mejs-container").attr("id"),a=mejs.players[t],o=e(this).val();e(this).next().val(o),a.currentTime=o*(a.duration/100),a.play(),e(this).blur()},play:function(){a.player.muted=!1,a.player.play()},stop:function(){a.player.pause()},initPlayer:function(){var t=podcastBox.isPopupWindow,o=t?JSON.parse(e(".podcast-box-player.popup .podcast-play-pause ").attr("data-episode")):JSON.parse(sessionStorage.getItem("episode")),n="show"===sessionStorage.getItem("podcast_player_display")&&o?"show":"hide",s="true"===sessionStorage.getItem("podcast_player_playing");if(a.togglePlayer(s,n,!0),o){if(a.setPlayerData(o),s){var r=sessionStorage.getItem("podcast_player_last_time");r=r?parseFloat(r):0,e("#podcast-play-pause, playe#episode-".concat(o.episode_id," .podcast-play-pause")).addClass("active"),a.player.setCurrentTime(r)}(s||t)&&a.play()}},setPlayerData:function(t){var a=e("#podcast-box-player");if(void 0!==t){t.episode_id;var o=t.podcast_id,n=t.media,s=t.episode_url,r=t.episode_title,i=t.episode_logo,p=t.podcast_url,c=t.podcast_title,l=t.podcast_logo,d=e("#podcast-box-shortcode-player-".concat(o)),u=a.find(".mejs-container").attr("id");mejs.players[u].setSrc(n),e(".podcast-box-player-url",a).attr({href:s,title:r}),e(".podcast-box-player-thumbnail",a).attr("src",i),e(".podcast-box-player-title",a).text(r),e(".episode-podcast-url",a).attr({href:p,title:c}),e(".episode-podcast-thumbnail",a).attr("src",l),e(".episode-podcast-title",a).text(c),d.length&&(e(".podcast-box-player-url",d).attr({href:s,title:r}),e(".podcast-box-player-thumbnail",d).attr("src",i),e(".podcast-box-player-title",d).text(r),e(".episode-podcast-url",d).attr({href:p,title:c}),e(".episode-podcast-thumbnail",d).attr("src",l),e(".episode-podcast-title",d).text(c)),e("#podcast-play-pause").attr({"data-episode":JSON.stringify(t),title:"Pause"}),sessionStorage.setItem("episode",JSON.stringify(t))}},handlePlayPause:function(t){if(t.preventDefault(),a.stop(),!e(this).hasClass("popup-play"))if(e(this).hasClass("pause"))a.play();else{var o=e(this).data("episode");if(e(this).hasClass("active"))e(".podcast-play-pause").removeClass("active"),a.stop(),sessionStorage.setItem("podcast_player_playing","false");else{e(".podcast-play-pause").removeClass("active seeking");var n=e("#podcast-play-pause");if(o){var s=parseInt(o.episode_id),r=parseInt(o.podcast_id);n=(n=(n=n.add("#episode-".concat(s," .podcast-play-pause"))).add("#episode-play-".concat(s))).add("#podcast-box-shortcode-player-".concat(r," .podcast-play-pause"))}n.addClass("seeking"),a.togglePlayer(!0),e("#podcast-box-player").removeClass("init-hide hide"),a.setPlayerData(o),a.play(),sessionStorage.setItem("podcast_player_playing","true")}}},handlePopup:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o="popupPlayer"===window.name;function n(t){t.preventDefault(),a.stop(),e("#podcast-box-player").addClass("hide"),e(".podcast-play-pause").removeClass("active seeking"),sessionStorage.setItem("podcast_player__playing","false"),sessionStorage.setItem("podcast_player_display","hide");var o=o||JSON.parse(e(this).attr("data-episode")).episode_id;window.open("".concat(podcastBox.siteUrl,"/?podcast_player=").concat(o),"popupPlayer","width=".concat(podcastBox.popup_width,",height=").concat(podcastBox.popup_height))}o||(t&&n(),e(document).on("click",".popup-play",n))},handlePrevNext:function(){a.stop();var t=e(this),o=e(this).parents(".podcast-box-player"),n=e(".podcast-play-pause",o),s=JSON.parse(n.attr("data-episode")).episode_id;"undefined"===s&&void 0!==sessionStorage.episode&&(s=JSON.parse(sessionStorage.episode).episode_id);var r=t.hasClass("podcast-box-player-prev")?"prev":"next";wp.ajax.send("podcast_box_player_next_prev",{beforeSend:function(){setTimeout((function(){return n.removeClass("active pause").addClass("seeking")}),100)},data:{currentId:s,prevNext:r,nonce:podcastBox.nonce},success:function(e){e=JSON.parse(e),n.attr({"data-episode":JSON.stringify(e)}),a.setPlayerData(e),a.play()},error:function(e){return console.log(e)},complete:function(){n.removeClass("seeking")}})},handleRewindForward:function(){var t=e("#podcast-box-player").find(".mejs-container").attr("id"),a=mejs.players[t],o=a.currentTime;a.currentTime=e(this).hasClass("podcast-box-player-rewind")?o-10:o+15,a.play()},initVolumeSlider:function(){e(document).on("click",".podcast-box-player .volume-icon",(function(){e(".podcast-box-player-volume").toggleClass("active")})),e(".volume-bar-seek, .volume-bar-slide").val(a.getVolume())},openInParent:function(t){t.preventDefault();var a=e(this).hasClass("open-popup")?e(this).attr("data-url"):e(this).attr("href");parent.window.open(a)},handleVolumeSlider:function(){var t=e(this).val();e(".volume-bar-seek, .volume-bar-slide").val(t),a.player.volume=t,localStorage.setItem("podcast_player_volume",t)},getVolume:function(){var e=localStorage.getItem("podcast_player_volume");return e&&"NaN"!=e?parseFloat(e):parseFloat(podcastBox.volume)/100},togglePlayer:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e("#podcast-box-player");if(!n.hasClass("hide"))if(n.hasClass("collapsed")||"show"===a)n.removeClass("collapsed"),e("body").css("margin-bottom",n.outerHeight()),e(this).attr("title","Hide"),sessionStorage.setItem("podcast_player_display","show");else{if(!0===t)return;o&&n.addClass("init-hide"),n.addClass("collapsed"),e("body").css("margin-bottom","0"),e(this).attr("title","Show"),sessionStorage.setItem("podcast_player_display","hide")}}};e(document).ready(a.init)}(jQuery),Number.prototype.toHHMMSS=function(){var e=parseInt(this,10),t=Math.floor(e/3600),a=Math.floor((e-3600*t)/60),o=e-3600*t-60*a;return t<10&&(t="0"+t),a<10&&(a="0"+a),o<10&&(o="0"+o),t+":"+a+":"+o}},function(e,t){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){o=function(e,t){return new c(e,void 0,t)};var r=s(RegExp),i=RegExp.prototype,p=new WeakMap;function c(e,t,a){var o=r.call(this,e,t);return p.set(o,a||p.get(e)),o}function l(e,t){var a=p.get(t);return Object.keys(a).reduce((function(t,o){return t[o]=e[a[o]],t}),Object.create(null))}return n(c,r),c.prototype.exec=function(e){var t=i.exec.call(this,e);return t&&(t.groups=l(t,this)),t},c.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var o=p.get(this);return i[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+o[t]})))}if("function"==typeof t){var n=this;return i[Symbol.replace].call(this,e,(function(){var e=[];return e.push.apply(e,arguments),"object"!==a(e[e.length-1])&&e.push(l(e,n)),t.apply(this,e)}))}return i[Symbol.replace].call(this,e,t)},o.apply(this,arguments)}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(a=e,-1===Function.toString.call(a).indexOf("[native code]")))return e;var a;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return r(e,arguments,c(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),p(o,e)})(e)}function r(e,t,a){return(r=i()?Reflect.construct:function(e,t,a){var o=[null];o.push.apply(o,t);var n=new(Function.bind.apply(e,o));return a&&p(n,a.prototype),n}).apply(null,arguments)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l,d;l=jQuery,d={init:function(){l(document).on("change","#episode_sort",d.handlePagination),l(document).on("click",".podcast-box-pagination a, .podcast-box-pagination-form-submit",d.handlePagination),l(document).on("change","#podcast_box_change_country",d.handlePagination),l(document).on("keydown","#podcast-box-pagination-form-input",d.handleSubmit)},handlePagination:function(e){e.preventDefault();var t=l(this).parents(".podcast-box-listings");t.addClass("loading");var a=l(".podcast-box-pagination",t).attr("data-args");a=a?JSON.parse(a):{};var n=l(".podcast-box-pagination",t).attr("data-type"),s=l(".podcast-box-pagination",t).attr("data-podcast_id"),r=l("#episode_sort",t).val(),i=l("#podcast_box_change_country",t).val();i=i||"";var p=1;if(l(this).hasClass("page-numbers")){var c=l(this).attr("href"),u=o(/paginate=([0-9]+)/,{page:1}).exec(c);p=u?u.groups.page:1}else l(this).hasClass("episode_sort")?d.updateURL("sort",r):l(this).hasClass("change_country")?(d.updateURL("country",i),a.tax_query?void 0!==a.tax_query[0][0]?a.tax_query[0][0].terms=[i]:void 0!==a.tax_query[0]&&(a.tax_query[0].field="term_id",a.tax_query[0].terms=[i]):(a.tax_query=[],a.tax_query[0]={taxonomy:"podcast_country",field:"term_id",terms:[i]})):p=l(".podcast-box-pagination-form-input").val();d.updateURL("paginate",p),wp.ajax.send("podcast_box_pagination",{data:{args:a,podcast_id:s,sort:r,page:p,type:n},success:function(e){l(".podcast-box-listing-wrapper",t).html(e.html),l(".podcast-box-pagination",t).replaceWith(e.pagination),l(".podcast-box-listing-top",t).replaceWith(e.listing_top),i&&l("#podcast_box_change_country").val(i).select2({allowClear:!0,placeholder:function(){l(this).data("placeholder")}})},error:function(e){return console.log(e)},complete:function(){t.removeClass("loading"),l("html,body").animate({scrollTop:t.offset().top-50},"slow")}})},updateURL:function(e,t){l("#search_".concat(e)).val(t),history.pushState("","",function(e,t){var a=window.location.href,o="".concat(e,"=")+t,n=a.match(/\?./);if(""===window.location.search)return"".concat(a).concat(n?"&":"?").concat(o);if(-1===window.location.search.indexOf("".concat(e,"=")))return"".concat(a).concat(n?"&":"?").concat(o);for(var s=window.location.search.substring(1).split("&"),r=0;r<s.length;r++)if(s[r].indexOf("".concat(e,"="))>-1){s[r]="".concat(e,"=")+t;break}return a.split("?")[0]+"?"+s.join("&")}(e,t))},handleSubmit:function(e){13===e.keyCode&&l(".podcast-box-pagination-form-submit").trigger("click")}},l(document).ready(d.init)},function(e,t){var a;(a=jQuery)(document).ready((function(){a(".podcast-box-lazy-load").lazy({appendScroll:a(".podcast-box-lazy-load-scroll")}),a(".podcast-box-country-search").length&&a(".podcast-box-country-search").hideseek({noData:"No country found!",highlight:!0}),a(".podcast-box-country-list-toggle").click((function(){var e=a(".podcast-box-country-list");a(this).find(".dashicons").toggleClass("dashicons-no"),e.toggle()}))}))}]);